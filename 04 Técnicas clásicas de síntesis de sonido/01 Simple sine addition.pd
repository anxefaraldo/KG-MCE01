#N canvas 261 239 836 633 12;
#X obj 32 341 catch~ sum_sines;
#X obj 57 414 line~;
#X obj 32 439 *~, f 4;
#X obj 26 469 dac~;
#X obj 32 20 harmonic 1;
#X obj 32 112 harmonic 3;
#X obj 32 158 harmonic 4;
#X obj 32 202 harmonic 5;
#X obj 32 248 harmonic 6;
#X obj 32 293 harmonic 7;
#X obj 60 368 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcc4c4 #000000 #000000 0 1;
#N canvas 0 23 450 278 (subpatch) 0;
#X array waveform 259 float 1;
#A 0 0 0.434303 0.860623 1.27117 1.65854 2.0159 2.33712 2.61698 2.85124 3.03673 3.17147 3.25465 3.28668 3.2691 3.20461 3.09692 2.95063 2.77117 2.56455 2.33727 2.09609 1.84788 1.59942 1.35722 1.12735 0.915313 0.725859 0.562919 0.429495 0.3276 0.258228 0.22135 0.215941 0.240029 0.29078 0.364596 0.457242 0.563981 0.67973 0.799217 0.917144 1.02835 1.12796 1.21154 1.2752 1.31576 1.33077 1.31862 1.27858 1.21079 1.11628 0.996896 0.855273 0.694722 0.519145 0.332903 0.140689 -0.0526162 -0.24209 -0.422912 -0.590509 -0.740686 -0.869744 -0.97459 -1.05282 -1.10279 -1.12363 -1.11532 -1.07862 -1.01506 -0.926916 -0.817103 -0.689088 -0.54679 -0.394452 -0.236514 -0.0774809 0.0782158 0.226346 0.363006 0.484731 0.58859 0.672271 0.734141 0.773283 0.789515 0.783389 0.756155 0.709719 0.646574 0.569708 0.482511 0.388654 0.291977 0.196357 0.105587 0.023252 -0.0473855 -0.103489 -0.142739 -0.163408 -0.164413 -0.145351 -0.106514 -0.0488788 0.0259225 0.115653 0.217539 0.32836 0.444542 0.562277 0.677634 0.786685 0.885629 0.970906 1.03932 1.08811 1.11509 1.11868 1.09793 1.05265 0.983313 0.891108 0.777887 0.646119 0.498814 0.339438 0.171812 0 -0.171812 -0.339438 -0.498814 -0.646119 -0.777887 -0.891108 -0.983313 -1.05265 -1.09793 -1.11868 -1.11509 -1.08811 -1.03932 -0.970906 -0.885629 -0.786685 -0.677634 -0.562277 -0.444542 -0.32836 -0.217539 -0.115653 -0.0259225 0.0488788 0.106514 0.145351 0.164413 0.163408 0.142739 0.103489 0.0473855 -0.023252 -0.105587 -0.196357 -0.291977 -0.388654 -0.482511 -0.569708 -0.646574 -0.709719 -0.756155 -0.783389 -0.789515 -0.773283 -0.734141 -0.672271 -0.58859 -0.484731 -0.363006 -0.226346 -0.0782158 0.0774809 0.236514 0.394452 0.54679 0.689088 0.817103 0.926916 1.01506 1.07862 1.11532 1.12363 1.10279 1.05282 0.97459 0.869744 0.740686 0.590509 0.422912 0.24209 0.0526162 -0.140689 -0.332903 -0.519145 -0.694722 -0.855273 -0.996896 -1.11628 -1.21079 -1.27858 -1.31862 -1.33077 -1.31576 -1.2752 -1.21154 -1.12796 -1.02835 -0.917144 -0.799217 -0.67973 -0.563981 -0.457242 -0.364596 -0.29078 -0.240029 -0.215941 -0.22135 -0.258228 -0.3276 -0.429495 -0.562919 -0.725859 -0.915313 -1.12735 -1.35722 -1.59942 -1.84788 -2.09609 -2.33727 -2.56455 -2.77117 -2.95063 -3.09692 -3.20461 -3.2691 -3.28668 -3.25465 -3.17147 -3.03673 -2.85124 -2.61698 -2.33712 -2.0159 -1.65854 -1.27117 -0.860623 -0.434303 0 0.434303 0.860623;
#X coords 0 1 258 -1 200 133 1 0 0;
#X restore 214 155 graph;
#X obj 32 65 harmonic 2;
#N canvas 358 634 450 300 things 0;
#X obj 72 49 array max waveform;
#X floatatom 72 73 5 0 0 0 - - - 0;
#X obj 72 28 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#N canvas 51 96 488 678 fft 0;
#X obj 21 64 inlet~;
#X obj 31 95 rfft~;
#X obj 31 128 *~;
#X obj 62 128 *~;
#X obj 31 158 sqrt~;
#X obj 334 112 block~ 4096 1;
#X obj 31 184 biquad~ 0 0 0 0 1;
#X text 95 96 Fourier series;
#X text 100 149 magnitude;
#X text 98 134 calculate;
#X text 23 6 This subpatch computes the spectrum of the incoming signal with a (rectangular windowed) FFT. FFTs aren't properly introduced until much later.;
#X text 85 63 signal to analyze;
#X text 165 170 delay two samples;
#X text 164 186 for better graphing;
#X obj 18 508 samplerate~;
#X obj 18 485 bng 18 250 50 0 empty empty empty 0 -6 0 8 #fcfcfc #000000 #000000;
#X floatatom 18 555 0 0 0 0 - - - 0;
#X obj 18 461 loadbang;
#X text 16 402 At load time \, calculate a good choice of fundamental frequency for showing spectra: the 16th bin in a 4096-point spectrum \, so SR*16/4096 or SR/256.;
#X floatatom 149 557 5 0 0 0 - - - 0;
#X obj 149 533 / 4096;
#X text 151 507 One bin is SR/4096:;
#X obj 149 579 s freq-step;
#X obj 18 578 s vis_fundamental;
#X obj 161 364 tabwrite~ spectrum;
#X obj 22 364 tabwrite~ waveform;
#X obj 161 289 metro 500;
#X obj 161 215 loadbang;
#X obj 161 312 t b b b;
#X obj 169 264 s zero_phase;
#X obj 18 531 / 256;
#X msg 169 240 0.75;
#X connect 0 0 1 0;
#X connect 0 0 25 0;
#X connect 1 0 2 0;
#X connect 1 0 2 1;
#X connect 1 1 3 0;
#X connect 1 1 3 1;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 6 0 24 0;
#X connect 14 0 20 0;
#X connect 14 0 30 0;
#X connect 15 0 14 0;
#X connect 16 0 23 0;
#X connect 17 0 15 0;
#X connect 19 0 22 0;
#X connect 20 0 19 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 27 0 31 0;
#X connect 28 1 24 0;
#X connect 28 1 25 0;
#X connect 30 0 16 0;
#X connect 31 0 29 0;
#X restore 70 166 pd fft;
#X obj 70 140 catch~ vis_sum;
#X msg 205 217 \; waveform resize 259;
#X obj 292 132 send freq;
#X obj 292 107 mtof;
#X obj 292 30 loadbang;
#X floatatom 292 85 5 0 0 0 - - - 0;
#X msg 292 55 48, f 2;
#X obj 365 33 r note;
#X floatatom 376 67 5 0 0 0 - - - 0;
#X msg 198 95 \; pd dsp 1;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
#X connect 4 0 3 0;
#X connect 7 0 6 0;
#X connect 8 0 10 0;
#X connect 8 0 13 0;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 9 0;
#X connect 11 0 12 0;
#X restore 266 109 pd things;
#X msg 57 389 \$1 100;
#N canvas 0 0 450 300 (subpatch) 0;
#X array spectrum 128 float 0;
#X coords 0 4300 127 -40 257 133 1 0 0;
#X restore 457 162 graph;
#X text 487 301 1;
#X text 521 301 2;
#X text 553 301 3;
#X text 585 301 4;
#X text 618 301 5;
#X text 648 301 6;
#X text 679 301 7;
#X text 455 301 0;
#X obj 214 109 s note;
#X obj 214 22 else/keyboard 17 80 4 3 0 0 empty empty;
#X text 458 326 harmonic number ------------------------;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 10 0 14 0;
#X connect 14 0 1 0;
#X connect 25 0 24 0;
